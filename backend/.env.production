# ============================================================================
# PFF BACKEND — PRODUCTION ENVIRONMENT CONFIGURATION
# Genesis Protocol v1.0 — SOVRYN Mainnet Integration
# Architect: Isreal Okoro (mrfundzman) | Born in Lagos, Built for the World
# ============================================================================

# ============================================================================
# SYSTEM MODE
# ============================================================================
NODE_ENV=production
VITALIE_MODE=PURE_SOVRYN
NETWORK_ID=SOVRYN_MAINNET_GENESIS
DATA_SOURCE=VLT_LIVE_NODE

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
PORT=4000
API_VERSION=v1
SERVICE_NAME=pff-backend-production

# ============================================================================
# DATABASE — PRODUCTION SUPABASE / POSTGRES
# ============================================================================
# Get from: Supabase Dashboard → Settings → Database → Connection String (Transaction Pooler)
# Format: postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres
DATABASE_URL=postgresql://postgres.[YOUR-PROJECT-REF]:[YOUR-PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres

# Direct connection (for migrations only)
# DATABASE_URL_DIRECT=postgresql://postgres.[PROJECT-REF]:[PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=REPLACE_WITH_256_BIT_SECRET_KEY
JWT_EXPIRES_IN=15m
REFRESH_TOKEN_EXPIRES_IN=7d

# Vault encryption key (32 bytes hex)
VAULT_AES_KEY=REPLACE_WITH_32_BYTE_HEX_KEY

# ============================================================================
# PFF HANDSHAKE CONFIGURATION
# ============================================================================
HANDSHAKE_REPLAY_MS=30000
REQUIRE_LIVENESS=true
MIN_LIVENESS_SCORE=0.99

# ============================================================================
# SOVRYN / ROOTSTOCK (RSK) CONFIGURATION
# ============================================================================
# Rootstock Mainnet RPC
RSK_RPC_URL=https://public-node.rsk.co
RSK_CHAIN_ID=30
RSK_NETWORK_NAME=Rootstock Mainnet

# Backup RPC endpoints (comma-separated)
RSK_RPC_FALLBACK=https://rsk-mainnet.sovryn.app,https://mainnet.sovryn.app

# WebSocket endpoint for real-time blockchain events
RSK_WS_URL=wss://public-node.rsk.co/websocket

# ============================================================================
# SOVRYN PROTOCOL CONTRACTS (RSK Mainnet)
# ============================================================================
# Sovryn Dollar (DLLR)
DLLR_CONTRACT_ADDRESS=0xc1411567d2670e24d9C4DaAa7CdA95686e1250AA

# Zero Protocol (ZUSD - 0% interest loans)
ZUSD_CONTRACT_ADDRESS=0xdB107FA69E33f05180a4C2cE9c2E7CB481645C2d

# Sovryn Protocol Main Contract
SOVRYN_PROTOCOL_ADDRESS=0x5A0D867e0D70Fcc6Ade25C3F1B89d618b5B4Eaa7

# ============================================================================
# VLT (VITALIE TRUTH LEDGER) CONFIGURATION
# ============================================================================
# Live VLT Node API endpoint
VLT_API_URL=https://vlt-node.sovryn.app/api/v1
VLT_WS_URL=wss://vlt-node.sovryn.app/ws

# VLT Authentication
VLT_API_KEY=REPLACE_WITH_VLT_API_KEY
VLT_NODE_ID=GENESIS_NODE_001

# Genesis Block Configuration
VLT_GENESIS_BLOCK=0
VLT_GENESIS_ARCHITECT=ISREAL OKORO
VLT_GENESIS_ALIAS=MRFUNDZMAN
VLT_GENESIS_STATUS=SOVEREIGN_LIVE

# ============================================================================
# ECONOMIC LAYER (ATE) CONFIGURATION
# ============================================================================
# 50/50 Split Configuration
CITIZEN_VAULT_SHARE=0.50
NATIONAL_RESERVE_SHARE=0.50

# VIDA CAP Minting Parameters
VIDA_CAP_MINT_AMOUNT=1200.00
VIDA_BACKING_RATIO=1.0

# Economic boundaries
MAX_DAILY_MINT_PER_CITIZEN=5000.00
BURN_RATE_INFRASTRUCTURE=0.0005

# ============================================================================
# CORS & SECURITY
# ============================================================================
# Allowed origins (comma-separated)
CORS_ORIGINS=https://your-production-domain.com,https://www.your-production-domain.com

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# MONITORING & LOGGING
# ============================================================================
LOG_LEVEL=info
ENABLE_REQUEST_LOGGING=true
SENTRY_DSN=

# ============================================================================
# EXTERNAL SERVICES
# ============================================================================
# Supabase (for realtime features)
SUPABASE_URL=https://[YOUR-PROJECT-REF].supabase.co
SUPABASE_SERVICE_ROLE_KEY=REPLACE_WITH_SERVICE_ROLE_KEY
SUPABASE_ANON_KEY=REPLACE_WITH_ANON_KEY

# Redis (for session management, optional)
REDIS_URL=redis://localhost:6379

# ============================================================================
# BIOMETRIC VERIFICATION
# ============================================================================
# Liveness detection service (if using external provider)
LIVENESS_SERVICE_URL=
LIVENESS_SERVICE_API_KEY=

# ============================================================================
# DEPLOYMENT METADATA
# ============================================================================
DEPLOYMENT_DATE=2026-01-31
DEPLOYMENT_VERSION=1.0.0-genesis
DEPLOYMENT_ENVIRONMENT=production
ARCHITECT_SIGNATURE=ISREAL_OKORO_MRFUNDZMAN

